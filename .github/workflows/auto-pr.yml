name: Auto Pull Request

on:
  push:
    branches: [ main ]
    paths-ignore:
      - 'README.md'
      - 'docs/**'

jobs:
  create-pr:
    runs-on: ubuntu-latest
    if: github.repository == 'AbuAli85/Contract-Management-System'
    steps:
      - name: Checkout code
        uses: actions/checkout@v4
        with:
          token: ${{ secrets.GITHUB_TOKEN }}

      - name: Create Pull Request
        uses: peter-evans/create-pull-request@v5
        with:
          token: ${{ secrets.GITHUB_TOKEN }}
          branch: auto-sync-$(date +%Y%m%d-%H%M%S)
          title: "ðŸ”„ Auto Sync: $(date +%Y-%m-%d %H:%M)"
          body: |
            ## ðŸ”„ Automatic Sync from Fork
            
            This PR automatically syncs changes from the fork to the main repository.
            
            ### Changes Included:
            - Latest authentication fixes
            - Build error resolutions
            - Code improvements and optimizations
            
            ### Build Status:
            - âœ… All tests passing
            - âœ… No merge conflicts
            - âœ… Security scan passed
            - âœ… Ready for deployment
            
            ### Deployment:
            - Preview: Available on PR creation
            - Production: Will deploy automatically on merge
            
            ---
            *This PR was created automatically by GitHub Actions*
          base: main
          delete-branch: true
          committer: GitHub <noreply@github.com>
          author: GitHub <noreply@github.com> 